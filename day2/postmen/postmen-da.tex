\documentclass{boi2014-dk}

\usepackage{enumitem}

\renewcommand{\DayNum}{2}
\renewcommand{\TaskCode}{postmen}
\renewcommand{\TaskName}{Senior Postmen}
\renewcommand{\TaskVersion}{1.0}

\begin{document}
    \begin{wrapfigure}[8]{r}{4cm}
        \vspace{-18pt}
		\includegraphics[width=4cm]{\TaskCode.jpeg}
	\end{wrapfigure}

    Det er år 2036 og Europa er fyldt af pensionister. For at holde dem sunde
    har det europæiske ministerium for flertal (pensionister \emph{er} et
    flertal!) foreslået at få dem til at aflevere den lille mængde brevpost
    der stadig sendes -- typisk til pensionister. Dette forslag vil blive
    implementeret i hele Europa.

    Ministeriet har udtænkt et "pensionist postbud system" på følgende måde:
    Europa er inddelt i postdistrikter. Et postdistrikt har et vejnetværk af
    gader og vejkryds. Man kan gå begge veje af hver gade i netværket. I hvert
    distrikt er der vilkårligt mange pensionister, der kan hyres som postbud.
    Hver morgen modtager hvert postbud en taske med post, der skal leveres på
    en tur, der dækker en del af vejnetværket. Hver tur skal være
    pensionistvenlig, dvs.~den skal opfylde følgende betingelser:

    \begin{itemize}
        \item Den starter og slutter ved samme vejkryds.
        \item Den går aldrig igennem samme vejkryds to gange. (Pensionisterne
            må ikke blive forvirrede).
        \item Den må ikke have en gade til fælles med nogen anden tur. Så hver
            gade i distriktet bliver besøgt af netop et postbud.
    \end{itemize}

    Tilsammen skal turene dække det givne vejnetværk: Hver gade i
    vejnetværket skal være del af netop én tur.

    \Task
    Ministeriet har nu brug for software, der for et givet postdistrikts
    vejnetværk, vil udregne en mængde af pensionistvenlige ture, der
    dække netværket.

    \Input
    Inputtet beskriver vejnetværket.

    Den første linje indeholder to heltal $N$ og $M$. $N$ er antallet af
    vejkryds og $M$ er antallet af gader. Vejkrydsene er nummereret fra
    $1$ til $N$.

    Hver af de følgende $M$ linjer indeholder to heltal $u$ og $v$ ($1\le
    u,v\le N, u\ne v$), der betyder at der er en gade der forbinder vejkryds
    $u$ og $v$.

    For ethvert input holder følgende:

    \begin{enumerate}
        \item To vejkryds kan ikke være forbundet af mere end en gade.
        \item For alle par af vejkryds kan du gå (via en sekvens af gader)
            fra det ene vejkryds til det andet.
        \item Der findes en løsning. Dvs.~der findes en mængde af
            pensionistvenlige ture, der dækker vejnetværket.
    \end{enumerate}

    \Output
    Hver linje i outputtet skal indeholde numrene svarende til vejkrydsene i
    netop en af turene (en linje pr.~tur). Numrene skal skrives i rækkefølgen
    som turen besøger vejkrydsene i, således at startkrydset (og slutkrydset)
    er skrevet først (og kun én gang).

    Hvis der er flere end en løsning, må dit program udskrive en vilkårlig
    af dem.

    \Example

    \example
    {
        10 15 \newline
        1 2 \newline
        5 1\newline
        2 3 \newline
        9 2\newline
        3 4 \newline
        6 3\newline
        4 5 \newline
        7 4\newline
        4 8 \newline
        5 7 \newline
        8 5\newline
        6 7 \newline
        7 8 \newline
        8 10 \newline
        10 9
    }
    {
        2 3 4 5 8 10 9 \newline
        7 8 4 \newline
        1 5 7 6 3
    }
    {
        Det følgende billede illustrerer vejnetværket og de tre
        pensionistvenlige ture, som kan bruges til at dække det.

        \includegraphics[width=7cm]{senior-example}

        Bemærk at der er flere løsninger til dette eksempel, hvoriblandt
        en af dem kun indeholder to ture.
    }

    \Scoring

    \begin{description}
        \item[Delopgave 1 (? point):] $3 \le N \le 2\,000$, $3 \le M \le 100\,000$.
        \item[Delopgave 2 (? point):] $3 \le N \le 100\,000$, $3 \le M \le
            100\,000$.
        \item[Delopgave 3 (? point):] $3 \le N \le 500\,000$, $3 \le M \le
            500\,000$.
    \end{description}

    \Constraints

    \begin{description}
        \item[Tidsbegrænsning:] 0.5 s.
        \item[Hukommelsesbegrænsning:] 256 MB.
    \end{description}

\end{document}
