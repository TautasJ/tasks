\documentclass{boi2014}

\usepackage{enumitem}
\usepackage{todonotes}
\usepackage{wrapfig}

\renewcommand{\DayNum}{2}
\renewcommand{\TaskCode}{demarcation}
\renewcommand{\TaskName}{Demarcation}

\newcommand{\constant}[1]{{\tt #1}}

\begin{document}
    \begin{wrapfigure}{r}{4cm}
		\includegraphics[width=4cm]{\TaskCode.jpeg}
	\end{wrapfigure}

    For a long time the island of Bytopia was ruled by the fair king
    Byteasar. But after the sudden death
    of the king, his two sons -- twins Biteon and Byteon -- could
    not come to an agreement which one of them should ascend the throne.
    Therefore they decided to divide the island into two provinces to
    rule them independently.  
 
    On a map Byteotia is shaped as a polygon of $N$ vertices. Every
    side of the polygon is parallel to a side of the map, and every
    two consecutive sides are perpendicular to each other.  Biteon
    and Byteon want to divide the polygon into two congruent figures,
    using one line segment contained in the polygon and parallel to a
    side of the map.  (Two figures are congruent if one can be transformed
    into the other using a combination of reflections, rotations and
    translations.) Coordinates of the polygon vertices and the end points
    of the dividing segment are integers.  
 
    The king's sons asked you to verify whether such a division is
    possible.

    \Task

    Given the shape of the island, determine if it can be partitioned
    by a horizontal or vertical segment into two congruent pieces. If
    it can, find one such segment.

    \Input
	The first line of the input contains a single integer $N$, the number of
	vertices. The $i$th of the next $N$ lines contains a pair of integer $X_i$
	and $Y_i$, separated by space, which are the coordinates of the $i$th
	vertex.
    %\todo{In what order are vertices given?}

	\Output
	Your program should output a single line. If it is possible to divide the
	island into congruent parts with a horizontal or vertical segment, which
	endpoints are $(x_1, y_1)$ and $(x_2, y_2)$, print 4 integers $x_1$,
	$y_1$, $x_2$ and $y_2$, separated by spaces.
	Either $x_1 = y_1$ or $y_1 = y_2$ must hold.

	If a suitable division cannot be found, output a single word
	``\constant{Impossible}'' (without quotes).

    \Examples
	\example
	{
		10
		0 0
		1 0
		1 1
		3 1
		3 5
		2 5
		2 3
		1 3
		1 2
		0 2
	}
	{
		1 2 3 2
	}
	{
		This is not the only correct choices of parameters.
	}

	\example
	{
		6
		0 0
		1 0
		1 1
		2 1
		2 2
		0 2
	}
	{
		Impossible
	}

    \Scoring

    \begin{description}
        \item[Subtask 1 (? points).] $4 \le N \le 200$
        \item[Subtask 2 (? points).] $4 \le N \le 5000$
        \item[Subtask 3 (? points).] $4 \le N \le 100\ 000$
    \end{description}

    \Constraints

    \begin{description}
        \item[Time limit:] ? s.
        \item[Memory limit:] ? MB.
    \end{description}

\end{document}
