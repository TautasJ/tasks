\documentclass{boi2014-lt}

\usepackage{enumitem}
\usepackage{todonotes}
\usepackage{wrapfig}

\renewcommand{\DayNum}{2}
\renewcommand{\TaskCode}{demarcation}
\renewcommand{\TaskName}{Demarkacija}

\newcommand{\constant}[1]{{\tt #1}}

\begin{document}
    \begin{wrapfigure}{r}{3cm}
        \vspace{-24pt}
		\includegraphics[width=3cm]{\TaskCode.jpeg}
	\end{wrapfigure}

    Karalius Baitazaras ilgai ir teisingai valdė Baitopijos salą. Tačiau po
    staigios mirties jo sūnūs dvyniai --- Baitonas ir Bitonas --- niekaip
    negalėjo sutarti, kuris iš jų turėtų paveldėti sostą. Jie nusprendė
    padalinti salą į dvi provincijas, kad galėtų jas valdyti nepriklausomai.
 
    STAČIAKAMPYJE Žemėlapyje Baitopija yra $N$ kraštinių turintis daugiakampis.
    Visos daugiakampio kraštinės yra lygiagrečios žemėlapio kraštinėms, o
    kiekviena gretima daugiakampio kraštinė yra statmena viena kitai. Baitonas ir
    Bitonas norėtų padalinti salą į dvi kongruenčias figūras viena atkarpa, kuri
    būtų lygiagreti žemėlapio kraštinei. (Dvi figūros yra kongruenčios jeigu
    viena iš jų gali būti transformuota į kitą kokia nors atspindžio, posūkio
    arba poslinkio operacijų kombinacija.) Visų daugiakampio kraštinių ir
    ieškomos dalinančios atkarpos galų koordinatės yra sveikieji skaičiai.
 
    Karaliaus sūnūs prašo jūsų patikrinti ar toks salos padalinimas yra įmanomas.

    \Task
    Duotai salos formai nustatykite, ar ji gali būti padalinta horizontalia arba
    vertikalia atkarpa į dvi kongruenčias figūras. Jeigu toks padalinimas
    egzistuoja, raskite salą dalinančią atkarpą.

    \Input
	The first line of the input contains a single integer $N$, the number of
	vertices. The $i$th of the next $N$ lines contains a pair of integer $X_i$
	and $Y_i$, separated by space, which are the coordinates of the $i$th
	vertex.
    %\todo{In what order are vertices given?}

	\Output
	Your program should output a single line. If it is possible to divide the
	island into congruent parts with a horizontal or vertical segment, which
	endpoints are $(x_1, y_1)$ and $(x_2, y_2)$, print 4 integers $x_1$,
	$y_1$, $x_2$ and $y_2$, separated by spaces.
	Either $x_1 = y_1$ or $y_1 = y_2$ must hold.

	If a suitable division cannot be found, output a single word
	``\constant{Impossible}'' (without quotes).

    \Examples
	\example
	{
		10
		0 0
		1 0
		1 1
		3 1
		3 5
		2 5
		2 3
		1 3
		1 2
		0 2
	}
	{
		1 2 3 2
	}
	{
		This is not the only correct choices of parameters.
	}

	\example
	{
		6
		0 0
		1 0
		1 1
		2 1
		2 2
		0 2
	}
	{
		Impossible
	}

    \Scoring

    \begin{description}
        \item[Subtask 1 (? points).] $4 \le N \le 200$
        \item[Subtask 2 (? points).] $4 \le N \le 4000$
        \item[Subtask 3 (? points).] $4 \le N \le 100\ 000$
    \end{description}

    \Constraints

    \begin{description}
        \item[Time limit:] ? s.
        \item[Memory limit:] ? MB.
    \end{description}

\end{document}
